<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>My Dream Villa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.0.0/dist/aframe-extras.min.js"></script>

    <script>
        AFRAME.registerComponent('gate-toggle', {
            init: function () {
                this.isOpen = false;
                this.el.addEventListener('click', () => {
                    const leftPanel = document.querySelector('#leftGatePanel');
                    const rightPanel = document.querySelector('#rightGatePanel');
                    if (!this.isOpen) {
                        leftPanel.setAttribute('animation', 'property: rotation; to: 0 90 0; dur: 2000; easing: easeInOutSine');
                        rightPanel.setAttribute('animation', 'property: rotation; to: 0 -90 0; dur: 2000; easing: easeInOutSine');
                    } else {
                        leftPanel.setAttribute('animation', 'property: rotation; to: 0 0 0; dur: 2000; easing: easeInOutSine');
                        rightPanel.setAttribute('animation', 'property: rotation; to: 0 0 0; dur: 2000; easing: easeInOutSine');
                    }
                    this.isOpen = !this.isOpen;
                });
            }
        });
    </script>

    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            font-family:
                system-ui,
                -apple-system,
                BlinkMacSystemFont,
                "Segoe UI",
                sans-serif;
        }
    </style>
</head>

<body>
    <a-scene renderer="antialias: true; colorManagement: true; physicallyCorrectLights: true; highRefreshRate: true"
        shadow="type: pcfsoft" background="color: #cce0ff" vr-mode-ui="enabled: true"
        device-orientation-permission-ui="enabled: true">

        <a-assets>
            <a-asset-item id="villaCompleteModel" src="assests/models/pscsc220042.glb"></a-asset-item>
            <a-asset-item id="carModel" src="assests/models/bmw_i8.glb"></a-asset-item>
            <img id="floorTex" src="assests/textures/floor texture.jpg">
            <img id="wallTex" src="assests/textures/wall texture.jpg">
            <img id="roadTex" src="assests/textures/road texture.jpg">
            <a-asset-item id="basketballModel" src="assests/models/basketball.glb"></a-asset-item>
        </a-assets>


        <a-entity light="type: ambient; intensity: 0.7; color: #ffffff"></a-entity>
        <a-entity light="type: directional; intensity: 1.2; castShadow: true; color: #ffffff"
            position="4 8 -6"></a-entity>

        <a-entity id="playerRig" position="-4 0 50" wasd-controls="acceleration: 25"
            look-controls="pointerLockEnabled: true">
            <a-entity camera position="0 1.6 0">
                <a-cursor color="#2ecc71" fuse="false"></a-cursor>
            </a-entity>
        </a-entity>

        <a-entity geometry="primitive: plane; width: 1000; height: 1000" rotation="-90 0 0" position="0 0 0"
            material="src: #roadTex; repeat: 200 200; roughness: 1; metalness: 0" receive-shadow="true"></a-entity>

        <a-entity id="villa" rotation="0 180 0" position="-10 0 20">
            <a-gltf-model id="villaModel" src="#villaCompleteModel" position="0 0.1 0" rotation="0 180 0" scale="1 1 1"
                cast-shadow="true" receive-shadow="true"></a-gltf-model>
        </a-entity>

        <a-entity id="bmwCar" position="-5 0.75 35" rotation="0 0 0">
            <a-gltf-model src="#carModel" scale="1 1 1" cast-shadow="true" receive-shadow="true"></a-gltf-model>
        </a-entity>

        <a-entity id="poolWaterContainer" position="-5 0.4 12.8">
            <a-ocean width="8.6" depth="4.5" density="10" speed="0.5" rotation="-90 0 0"
                material="color: #00d4ff; opacity: 0.7; transparent: true; metalness: 0.6; roughness: 0.2">
            </a-ocean>
        </a-entity>


        <a-entity id="compoundEnclosure">
            <a-entity id="compoundFloor" geometry="primitive: plane; width: 40; height: 40" rotation="-90 0 0"
                position="-5 0.05 25" material="src: #floorTex; repeat: 10 10; roughness: 0.8" receive-shadow="true">
            </a-entity>

            <a-box id="wallBack" position="-5 1.5 5" width="40" height="3" depth="0.5"
                material="src: #wallTex; repeat: 10 1; roughness: 0.8" cast-shadow="true"></a-box>
            <a-box id="wallLeft" position="-25 1.5 25" width="0.5" height="3" depth="40"
                material="src: #wallTex; repeat: 10 1; roughness: 0.8" cast-shadow="true"></a-box>
            <a-box id="wallRight" position="15 1.5 25" width="0.5" height="3" depth="40"
                material="src: #wallTex; repeat: 10 1; roughness: 0.8" cast-shadow="true"></a-box>
            <a-box id="wallFrontLeft" position="-17.5 1.5 45" width="15" height="3" depth="0.5"
                material="src: #wallTex; repeat: 4 1; roughness: 0.8" cast-shadow="true"></a-box>
            <a-box id="wallFrontRight" position="7.5 1.5 45" width="15" height="3" depth="0.5"
                material="src: #wallTex; repeat: 4 1; roughness: 0.8" cast-shadow="true"></a-box>

            <a-entity id="gateArea">
                <a-box id="pillarLeft" position="-10 2 45" width="0.8" height="4" depth="0.8" material="color: #2c3e50"
                    cast-shadow="true"></a-box>
                <a-box id="pillarRight" position="0 2 45" width="0.8" height="4" depth="0.8" material="color: #2c3e50"
                    cast-shadow="true"></a-box>
                <a-box id="gateTopFrame" position="-5 4 45" width="10.8" height="0.2" depth="0.8"
                    material="color: #2c3e50"></a-box>

                <a-entity id="leftGatePanel" position="-9.6 2 45" gate-toggle class="raycastable">
                    <a-box width="4.5" height="3.5" depth="0.1" material="color: #34495e; opacity: 0.9"
                        position="2.25 0 0" cast-shadow="true"></a-box>
                </a-entity>

                <a-entity id="rightGatePanel" position="-0.4 2 45" gate-toggle class="raycastable">
                    <a-box width="4.5" height="3.5" depth="0.1" material="color: #34495e; opacity: 0.9"
                        position="-2.25 0 0" cast-shadow="true"></a-box>
                </a-entity>

                <a-sphere position="-10 4.2 45" radius="0.4"
                    material="color: #f1c40f; emissive: #f1c40f; emissiveIntensity: 0.5"></a-sphere>
                <a-sphere position="0 4.2 45" radius="0.4"
                    material="color: #f1c40f; emissive: #f1c40f; emissiveIntensity: 0.5"></a-sphere>
            </a-entity>

            <a-entity id="basketball" gltf-model="#basketballModel" position="-19 0.3 20" scale="0.6 0.6 0.6"
                cast-shadow="true"></a-entity>

            <a-entity id="neighborLeft" position="-55 0 25">
                <a-entity geometry="primitive: plane; width: 40; height: 40" rotation="-90 0 0"
                    material="src: #floorTex; repeat: 10 10; roughness: 0.8" receive-shadow="true"></a-entity>
                <a-box position="0 1.5 -20" width="40" height="3" depth="0.5" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
                <a-box position="-20 1.5 0" width="0.5" height="3" depth="40" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
                <a-box position="20 1.5 0" width="0.5" height="3" depth="40" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
                <a-box position="0 1.5 20" width="40" height="3" depth="0.5" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
            </a-entity>

            <a-entity id="neighborRight" position="45 0 25">
                <a-entity geometry="primitive: plane; width: 40; height: 40" rotation="-90 0 0"
                    material="src: #floorTex; repeat: 10 10; roughness: 0.8" receive-shadow="true"></a-entity>
                <a-box position="0 1.5 -20" width="40" height="3" depth="0.5" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
                <a-box position="-20 1.5 0" width="0.5" height="3" depth="40" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
                <a-box position="20 1.5 0" width="0.5" height="3" depth="40" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
                <a-box position="0 1.5 20" width="40" height="3" depth="0.5" material="src: #wallTex; repeat: 10 1"
                    cast-shadow="true"></a-box>
            </a-entity>
    </a-scene>
</body>

</html>